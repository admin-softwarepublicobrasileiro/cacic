{"name":"Manual de Instalação do Cacic 3.0","tagline":"","body":"Este roteiro irá orientá-lo como fazer uma NOVA instalação do Gerente Cacic 3.0 em máquinas com Sistema Operacional Ubuntu e Debian.\r\n\r\nA instalação ocorre basicamente por linhas de comando através do Terminal, para tanto, acesse o Painel Inicial (Launcher) que fica localizado no canto superior esquerdo de sua tela.\r\n\r\nApós aparecer a opção de busca digite <b>\"Terminal\"</b> e pressione a tecla <b>\"Enter\"</b>. Agora seguiremos com os comandos dentro do Terminal.\r\n\r\nCaso não o encontre utilize as teclas de atalho <b>“CTRL + ALT + T”</b>.\r\n\r\n## 1 - Terminal\r\n\r\nObservação sobre o uso do terminal:\r\n\r\nDentro do terminal o cursor ficará sempre depois de <b>\"$\"</b> ou <b>\"#\"</b>.\r\n\r\nSempre que o comando a ser copiado for precedido por <b>\"$\"</b>, significa que este é um comando de usuário normal;\r\n\r\nSempre que o comando a ser copiado for precedido por <b>\"#\"</b>, significa que este é um comando de usuário <b>“root”</b>.\r\n\r\nCaso o comando a ser copiado não seja precedido por <b>\"$\"</b> nem por <b>\"#\"</b>, significa que este comando pode ser executado sem restrições.\r\n\r\nPara acessar como <b>“root”</b> digite <b>\"sudo su\"</b>.\r\n\r\nFoi utilizado para este tutorial o <b>“Terminal”</b> em idioma inglês, então as confirmações apresentadas aqui estão em (Yes/Y ou No/N), caso seu sistema esteja em português confirme com (Sim/S ou Não/N)\r\n\r\n\r\n## 2 - Instalando os Pacotes necessários:\r\n\r\nInstale os pacotes que você vai precisar:\r\n\r\n    apt-get -y install postgresql apache2 php5 php5-pgsql php5-gd php5-mcrypt libapache2-mod-php5 php5-ldap php-pear subversion  git  openjdk-7-jre  \r\n\r\nCom este comando irá instalar todos os pacotes necessários.\r\n\r\n## 3 – Configurando o PostgreSQL:\r\n\r\nO arquivo <i>\"php.ini\"</i> vem com fuso horário da Europa, logo precisamos configurá-lo para o Brasil. \r\n\r\nEdite o arquivo <i>\"php.ini\"</i> através do comando abaixo:\r\n\r\n    nano /etc/php5/apache2/php.ini \r\n\r\nQuando o arquivo abrir digite <b>\"CTRL + W\"</b> para abrir a ferramenta de busca e digite <b>\"Module Settings\"</b>. \r\n\r\nVocê verá o comando abaixo:\r\n\r\n[Date] \r\n\r\n    ; Defines the default timezone used by the date functions\r\n    ; http://php.net/date.timezone\r\n\r\nNa linha imediata abaixo digite: \r\n\r\n    date.timezone = America/Sao_Paulo \r\n\r\nEm alguns casos, pode ser que já tenha na linha <b>\";date.timezone =\"</b>, neste caso complete com <b>\"America/Sao_Paulo\"</b>.\r\n\r\nNão esqueça de remover o <b>\"ponto e virgula\"</b>.\r\n\r\nCaso já esteja atualizado, continue.\r\n\r\nDigite <b>\"CTRL + X\"</b> para salvar, \r\n\r\nConfirme a alteração com <b>\"Y + Enter\"</b>.\r\n\r\nComo \"root\" reinicie o Apache.\r\n\r\n    # /etc/init.d/apache2 restart \r\n\r\n\r\n## 4 - Montando ambiente de desenvolvimento\r\n\r\nBaixe o código do repositório oficial (necessário o <b>subversion\"</b>, que foi previamente instalado) \r\n\r\nApós instalação do <b>“subversion”</b> execute os comandos abaixo: \r\n\r\n    # cd /srv \r\n    # svn --username SEU_USER_DO_PORTAL co http://svn.softwarepublico.gov.br/svn/cacic/cacic/tags/3.0b1/gerente\r\n    # chown -R www-data.www-data gerente \r\n\r\nCrie um link simbólico da sua pasta web para o Apache \r\n\r\n    # ln -s /srv/gerente/web /var/www/cacic \r\n\r\n## 5 - Crie banco de dados para o Symfony - PostgreSQL\r\n\r\n(É possível que já exista o banco de dados criado, caso isso ocorra passe para o item 6).\r\n\r\nExecute os seguintes comandos no terminal:\r\n\r\n    $ sudo su \r\n    # su - postgres\r\n    $ createuser -D -R -S -w cacic\r\n\r\nSe você pretende usar o modulo do importador, substitua o <b>\"-S\"</b> por <b>\"-s\"</b>.\r\n\r\nCrie o banco com o comando abaixo: \r\n\r\n    $ createdb -w -O cacic cacic \r\n\r\n## 5.1 - Liberando acesso ao Banco:\r\n\r\nEdite o arquivo <b>\"/etc/pg_hba.conf\"</b>:\r\n\r\n    # nano /etc/postgresql/9.1/main/pg_hba.conf \r\n\r\nProcure as linhas abaixo. (estão logo no início do texto) \r\n\r\n    # PostgreSQL Client Authentication Configuration File\r\n    # ===================================================\r\n    #\r\n    # Refer to the \"Client Authentication\" section in the PostgreSQL\r\n    # documentation for a complete description of this file. A short\r\n    # synopsis follows.\r\n    #\r\n    # This file controls: which hosts are allowed to connect, how clients\r\n    # are authenticated, which PostgreSQL user names they can use, which\r\n    # databases they can access. Records take one of these forms:\r\n    #\r\n    # local DATABASE USER METHOD [OPTIONS]\r\n    # host DATABASE USER ADDRESS METHOD [OPTIONS]\r\n    # hostssl DATABASE USER ADDRESS METHOD [OPTIONS]\r\n    # hostnossl DATABASE USER ADDRESS METHOD [OPTIONS]\r\n\r\nAgora, acrescente as próximas linhas. Sem o <b>“#”</b> \r\n\r\n    host cacic cacic 127.0.0.1/32 trust  \r\n    host cacic cacic localhost trust  \r\n\r\nDigite <b>\"CTRL + X\"</b> para sair, confirme com <b>\"y\"</b> e <b>\"enter\"</b>.  \r\n\r\nReinicie o banco de dados:\r\n\r\n    $ /etc/init.d/postgresql restart \r\n\r\nExecute a linha a baixo e verifique se a mesma se encontra igual ao exemplo: \r\n\r\n    $ psql -U cacic -h localhost cacic  \r\n    psql (9.1.9)\r\n    SSL connection (cipher: DHE-RSA-AES256-SHA, bits: 256)\r\n    Type \"help\" for help.\r\n    cacic=>\r\n\r\nDigite <b>\"\\q\"</b>, depois <b>\"exit\"</b>\r\n\r\n    $ exit\r\n\r\n## 5.2 - Configurando o arquivo parameters.yml\r\n\r\nAbra o arquivo <i>\"parameters.yml\"</i> conforme o comando abaixo:\r\n\r\n    # nano /srv/gerente/app/config/parameters.yml\r\n\r\nAdicione as seguintes linhas: (este arquivo conterá somente essas linhas) \r\n\r\nparameters: \r\n\r\n     database_driver: pdo_pgsql\r\n     database_host: 127.0.0.1\r\n     database_port: null\r\n     database_name: cacic\r\n     database_user: cacic\r\n     database_password: null\r\n     mailer_transport: smtp\r\n     mailer_host: 127.0.0.1\r\n     mailer_user: null\r\n     mailer_password: null\r\n     locale: pt_BR\r\n     secret: d7c123f25645010985ca27c1015bc76797\r\n     database_path: null\r\n\r\nDigite <b>\"CTRL+X\"</b> para fechar \r\n\r\nConfirme com <b>\"Y + Enter\"</b>\r\n\r\n## 5.3 - Executando comandos do Symfony\r\n\r\nExecute os comandos do symfony necessários para o sistema funcionar: \r\n\r\n    # su - www-data  \r\n    $ bash\r\n    $ cd /srv/gerente\r\n\r\nInstalação dos vendors \r\n\r\n    $ php composer.phar install \r\n\r\nAguarde o fim da instalação (este processo pode levar alguns minutos) \r\n\r\nDigite o comando <b>\"exit\"</b> e depois digite o mesmo comando <b>\"exit\"</b> novamente. \r\n\r\nCarregando os assets: (necessário haver o \"java\" instalado) \r\n\r\n    php app/console doctrine:schema:update --force\r\n    php app/console assets:install --symlink\r\n    php app/console assetic:dump\r\n\r\n## 5.4 - Carregando dados iniciais \r\n\r\n    # php app/console doctrine:fixtures:load \r\n\r\nDigite o comando <b>\"exit\"</b> e depois digite o mesmo comando <b>\"exit\"</b> novamente. \r\n\r\nCaso apareça a mensagem:\r\n\r\n    Could not open input file: app/console\r\n\r\nFinalize o terminal com <b>\"exit\"</b>\r\n\r\nTerminada a instalação e configuração do Gerente Cacic 3.0, execute o navegador.\r\n\r\n----------------------------------------------------------------------------------------------------------- \r\n\r\nABRA O NAVEGADOR:\r\n\r\n\r\n## 6 - Abrindo a tela de login do Gerente Cacic 3.0 \r\n\r\nDigite:\r\n\r\n    http://localhost/cacic/\r\n\r\nPressione <b>\"enter\"</b>.\r\n\r\nClique em <i>app.php</i>\r\n\r\nEntre com o usuário e a senha.\r\n\r\n    Usuário: admin\r\n    Senha: 123456  \r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}